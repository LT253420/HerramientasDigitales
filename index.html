<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Herramientas Digitales</title>
  <link rel="stylesheet" href="style.css">
</head>

  <body>
  <!-- Pantalla de carga -->
  <div id="preloader">
    <div class="loading-container">
      <div class="percentage" id="percentage">0%</div>
      <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>
  </div>

  <!-- Login -->
  <div id="loginContainer">
    <h1>Herramientas Digitales</h1>
    <h6>Powered By Novacell Repairs - By Lucas M. Tullier</h6>
    <button id="loginBtn" onclick="login()">Acceder con Google</button>
  </div>

  <!-- Top bar -->
  <div class="top-bar">
    <span id="emailText"></span>
    <button id="logoutBtn" onclick="logout()" style="display:none;">Cerrar sesi√≥n</button>
  </div>

  <!-- Contenido principal -->
  <div id="appContent" style="display:none; flex-direction: column; align-items: center; width: 100%;">
    <h1>Herramientas Digitales</h1>

    <div class="button-container" id="mainMenu">
      <button onclick="mostrarComoUsar()">C√≥mo usar</button>
      <button onclick="mostrarFallas()">P√°ginas √ötiles</button>
      <button onclick="mostrarCodigosDeServicio()">C√≥digos de Servicio</button>
      <button onclick="mostrarContacto()">Contacto - Soporte</button>
      <button onclick="toggleTheme()">Modo Claro / Oscuro</button>
       <div id="contador-visitas" style="color: lime; font-size: 24px;">
  üëÅÔ∏è <span id="visitCount">0</span>
       </div>

    <div class="button-container" id="usoMenu" style="display:none;">
      <button onclick="volverA('main')">‚Üê Volver</button>
      <h2>¬øC√≥mo usar la lista?</h2>
      <div class="response-box static justificado">
        Esta es una lista para recopilar p√°ginas Web o utilidades Que solemos usar cotidianamente en la Reparaci√≥n de celulares y servicio t√©cnico, pero en un solo lugar y tener acceso con un solo click
       Es simple, vas a encontrar diferentes p√°ginas, con su categor√≠as y funciones en cada bot√≥n.<br><br>
        Solo haces click, y te redirige a la p√°gina correspondiente
      </div>
    </div>

  <div class="button-container" id="CodigosServ" style="display:none;">
      <button onclick="volverA('main')">‚Üê Volver</button>
      <h2>C√≥digos de Servicio</h2>
      <div class="response-box static justificado">
        Estos c√≥digos, algunos pueden funcioanr y otros no, seg√∫n los equipos en los que se prueben. Es probable que alguno de estos no funcione, ya que var√≠an en cada marca, modelo y A√±o del equipo. <br><br>
      
Algunos ejemplos de c√≥digos USSD son:
    
<h2>Codigos de servicio:</h2> <br><br>

(tambi√©n se pueden descargar Apps en la App Store como TestM o Phone Diagnostics que tambi√©n pueden realizar pruebas b√°sicas similares a el service code)

      </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    #06#: Consultar el IMEI del tel√©fono  
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Lenovo: *#*#4636*# 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code ZTE: *983*0#   </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code OnePlus: *#*#2346579#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Honor: *#*#2345#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Motorola: *#*#2486#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Samsung: *#0*#   
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service code Samsung Alternativo: *#*#88#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Xiaomi: *#*#6484#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service code Alt Xiaomi (redmi): *#*#64663#*#*   </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Alcatel: *#2886# 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Oppo: *#899#  
    </div>

    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Huawei: *#*#2846579#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Sony: *#*#7378423#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code Vivo: *#*#225#*#* 
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Service Code HTC: *#*#3424#*#*  
    </div>
    
    <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    Field Test Mode Iphone (solo se√±al): *3001#12345#* 
    </div>
      
  </div>

    </div>
    </div>
    
    <div class="button-container" id="fallasMenu" style="display:none;">
      <button onclick="volverA('main')">‚Üê Volver</button>
      <button onclick="showResponse('No enciende')">No enciende</button>
      <button onclick="showResponse('No tiene sonido')">No tiene sonido</button>
      <button onclick="showResponse('No puedo hacer llamadas')">No puedo hacer llamadas</button>
      <button onclick="showResponse('El tel√©fono se calienta')">El tel√©fono se calienta</button>
      <button onclick="showResponse('Mi celular se apaga solo')">Mi celular se apaga solo</button>


    </div>
    
<div class="button-container" id="contactoMenu" style="display:none;">
  <button onclick="volverA('main')">‚Üê Volver</button>
  <h2>Contacto - Soporte</h2>
  <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    üìû WhatsApp: 
    <a href="https://wa.me/5491127222169" target="_blank" style="color: #000; text-decoration: underline;">
      https://wa.me/5491127222169
    </a>
  </div>

  <div style="background-color: #ff9900; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #ff9900; margin-top: 10px;">
    ü§ù Te gustar√≠a Colaborar?: <strong>Hac√© tu aporte al whatsapp sobre p√°ginas, utilidades ONLINE o ideas que tengas para que la lista crezca! <br><br> Tambi√©n si necesit√°s ayuda o ten√©s algun inconveniente con la lista, te podemos ayudar ;)</strong>
  </div>
</div>


    <div class="button-container" id="respuestas" style="display:none;"></div>

    <!-- Bot√≥n flotante home -->
    <button id="backBtn" class="back-button" onclick="goToHome()">
      <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>

    <!-- Footer -->
    <div class="footer">
      <img src="PEG√Å TU IMAGEN AC√Å" alt="Logo" alt="Logo">
      <div>Powered by Novacell Repairs</div>
      <div>By Lucas M. Tuillier</div>
    </div>
  </div>

    <!-- Scripts de Firebase -->
  <!-- Firebase App (core SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"></script>
<!-- Firebase Auth -->
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js"></script>


 <!-- Tu configuraci√≥n de Firebase -->
    
 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signInWithPopup, GoogleAuthProvider, signOut } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBFXj0BAZ9uB_yQuhxpFWDdjuKRy7Tv4A4",
    authDomain: "herramientasdigitales-bbf23.firebaseapp.com",
    projectId: "herramientasdigitales-bbf23",
    storageBucket: "herramientasdigitales-bbf23.appspot.com",
    messagingSenderId: "816359547560",
    appId: "1:816359547560:web:378f71ec7d167db448989d"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  window.login = () => {
    signInWithPopup(auth, provider)
      .then((result) => {
        const user = result.user;
        document.getElementById("emailText").innerText = user.email;
        document.getElementById("logoutBtn").style.display = "inline-block";
        document.getElementById("loginContainer").style.display = "none";
        document.getElementById("appContent").style.display = "flex";
      })
      .catch((error) => {
        console.error("Error en login:", error);
        alert("Error al iniciar sesi√≥n: " + error.message);
      });
  };

  window.logout = () => {
    signOut(auth).then(() => {
      document.getElementById("loginContainer").style.display = "block";
      document.getElementById("appContent").style.display = "none";
      document.getElementById("logoutBtn").style.display = "none";
      document.getElementById("emailText").innerText = "";
    });
  };

  // Persistencia autom√°tica del usuario autenticado
   onAuthStateChanged(auth, (user) => {
    if (user) {
      document.getElementById("emailText").innerText = user.email;
      document.getElementById("logoutBtn").style.display = "inline-block";
      document.getElementById("loginContainer").style.display = "none";
      document.getElementById("appContent").style.display = "flex";
    }
  });

const dbRef = firebase.database().ref("visitas");

  dbRef.on("value", (snapshot) => {
    const visitas = snapshot.numChildren();
    document.getElementById("contador-visitas").innerText = "Visitas: " + visitas;
  });
   
    const database = firebase.database();

  // Obtener la fecha y hora actual
  const fechaHora = new Date().toISOString();

  // Guardar una nueva visita
  database.ref("visitas").push({
    fecha: fechaHora,
    userAgent: navigator.userAgent
  });
 </script>

<script>
  // Cambi√° estos valores si quer√©s otro namespace o key
  const namespace = "mi-pagina-visitas";
  const key = "contador";

  fetch(`https://api.countapi.xyz/hit/${namespace}/${key}`)
    .then(res => res.json())
    .then(data => {
      document.getElementById("contador-visitas").innerText = `Visitas: ${data.value}`;
    });
</script>
    
<script>

    const respuestasPorFalla = {
      "No enciende": [
        ["Revisar bater√≠a", "Medir bater√≠a para saber si funciona."],
        ["Bot√≥n de encendido", "Verificar si el bot√≥n funciona correctamente."],
        ["Placa base", "Posible falla de alimentaci√≥n o cortocircuito."]
      ],
      "No tiene sonido": [
        ["Altavoz", "Probar el parlante con otro equipo."],
        ["Conectores", "Verificar si est√°n sulfatados o desconectados."],
        ["Placa base", "Fallo en circuito de audio."]
      ],
      "No puedo hacer llamadas": [
        ["Estado del IMEI", "Verificar si el equipo fue dado de baja."],
        ["Chip", "Probar con otro chip o limpiar la bandeja."],
        ["Se√±al", "Revisar si toma se√±al correctamente."]
      ],
      "El tel√©fono se calienta": [
        ["Bater√≠a", "Puede estar defectuosa o vieja."],
        ["Apps en segundo plano", "Cerrar procesos que usen muchos recursos."],
        ["Mantenimiento", "Limpiar placa, cambiar pasta t√©rmica."]
      ],

      "Mi celular se apaga solo": [
        ["Boton de encendido", "Puede estar en corto o da√±ado"],
        ["Bater√≠a", "Conector de bater√≠a da√±ado o bater√≠a en mal estado"],
        ["Placa Madre", "Cortocircuito o placa da√±ada"]
      ]
    };

function showResponse(falla) {
  ocultarTodo();
  const respuestas = document.getElementById("respuestas");
  respuestas.style.display = "flex";
  void respuestas.offsetWidth;
  respuestas.classList.add("hud-appear");
  respuestas.innerHTML = `<button onclick="volverA('fallas')">‚Üê Volver</button><h2>${falla}</h2>`;

  if (respuestasPorFalla[falla]) {
    respuestasPorFalla[falla].forEach(([titulo, descripcion]) => {
      
      const btn = document.createElement("button");
      btn.textContent = titulo;
      btn.onclick = () => {
      respuestas.querySelectorAll(".response-box.dynamic").forEach(e => e.remove());
        
        const box = document.createElement("div");
        box.className = "response-box hud-appear dynamic";
        box.innerHTML = `‚û° ${descripcion}`;
        respuestas.appendChild(box);
      };
      respuestas.appendChild(btn);
    });
  }
}
  
function mostrarComoUsar() {
  ocultarTodo();
  const uso = document.getElementById("usoMenu");
  uso.style.display = "flex";
  requestAnimationFrame(() => {
    uso.classList.add("hud-appear");
  });
}

function mostrarCodigosDeServicio() {
  ocultarTodo();
  const uso = document.getElementById("CodigosServ");
  uso.style.display = "flex";
  requestAnimationFrame(() => {
    uso.classList.add("hud-appear");
  });
}


  
document.addEventListener('contextmenu', event => event.preventDefault());

function mostrarFallas() {
  ocultarTodo();
  const fallas = document.getElementById("fallasMenu");
  fallas.style.display = "flex";
  requestAnimationFrame(() => {
    fallas.classList.add("hud-appear");
  });
}


function mostrarContacto() {
  ocultarTodo();
  const contacto = document.getElementById("contactoMenu");
  contacto.style.display = "flex";
  requestAnimationFrame(() => {
    contacto.classList.add("hud-appear");
  });
}

function volverA(seccion) {
  ocultarTodo();
  const destino = seccion === "main" ? "mainMenu" : "fallasMenu";
  const menu = document.getElementById(destino);
  menu.style.display = "flex";
  requestAnimationFrame(() => {
    menu.classList.add("hud-appear");
  });
}

function toggleTheme() {
    document.body.classList.toggle('light-mode');
  }

function goToHome() {
      volverA("main");
    }

function ocultarTodo() {
      ["mainMenu", "usoMenu", "CodigosServ", "fallasMenu", "respuestas", "contactoMenu"].forEach(id => {
        const el = document.getElementById(id);
        el.style.display = "none";
      });
      document.getElementById("respuestas").innerHTML = "";
    }

    const preloader = document.getElementById("preloader");
    const fill = document.getElementById("progressFill");
    const percentText = document.getElementById("percentage");
    const smoothProgress = [1, 5, 10, 20, 35, 50, 65, 80, 90, 100];
    let index = 0;

    window.onload = () => setTimeout(updateProgress, 200);

    function updateProgress() {
      if (index < smoothProgress.length) {
        const value = smoothProgress[index];
        fill.style.width = value + "%";
        percentText.textContent = value + "%";
        index++;
        setTimeout(updateProgress, 100);
      } else {
        percentText.classList.add("flash");
        fill.classList.add("flash");
        setTimeout(() => {
          preloader.style.display = "none";
          const appContent = document.getElementById("appContent");
          appContent.classList.add("hud-appear");
        }, 500);
      }
    }
  </script>
</body>
</html>
